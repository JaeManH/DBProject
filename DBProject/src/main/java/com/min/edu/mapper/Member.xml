<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.min.edu.member">

<select id="selectMemberAll" resultType="membervo">
SELECT MEMBER_ID, 
MEMBER_LOGINID, 
MEMBER_PASSWORD, 
MEMBER_NAME, 
MEMBER_NICKNAME, 
MEMBER_PHONENUMBER, 
MEMBER_BIRTH, 
MEMBER_REGDATE, 
MEMBER_DEL, 
MEMBER_ADDRESS, 
MEMBER_EMAIL
FROM "MEMBER"
</select>

<insert id="insertMemberAll" parameterType="membervo">

INSERT INTO "MEMBER" 
(MEMBER_ID, MEMBER_LOGINID, 
MEMBER_PASSWORD, 
MEMBER_NAME, 
MEMBER_NICKNAME, 
MEMBER_PHONENUMBER, 
MEMBER_BIRTH, 
MEMBER_REGDATE, 
MEMBER_DEL, 
MEMBER_ADDRESS, 
MEMBER_EMAIL)
VALUES((SELECT NVL(MAX(MEMBER_ID),0) FROM "MEMBER" m)+1 , #{member_loginid} , #{member_password}, #{member_name}, #{member_nickname}, 
#{member_phonenumber}, #{member_birth}, SYSDATE, #{member_del}	, #{member_address}, #{member_email})

</insert>

	<resultMap type="memberVo" id="memberMap">
		<result column ="MEMBER_ID" property="member_id"/>
		<result column ="MEMBER_LOGINID" property="member_loginId"/>
		<result column ="MEMBER_PASSWORD" property="member_password"/>
		<result column ="MEMBER_NAME" property="member_name"/>
		<result column ="MEMBER_NICKNAME" property="member_nickName"/>
		<result column ="MEMBER_PHONENUMBER" property="member_phoneNumber"/>
		<result column ="MEMBER_BIRTH" property="member_birth"/>
		<result column ="MEMBER_REGDATE" property="member_regdate"/>
		<result column ="MEMBER_DEL" property="member_del"/>
		<result column ="MEMBER_ADDRESS" property="member_address"/>
		<result column ="MEMBER_EMAIL" property="member_email"/>
	</resultMap>

	<select id="selectMember_update" parameterType="java.lang.Integer" resultType="membervo">
		SELECT *
			FROM MEMBER
			WHERE MEMBER_ID = #{member_id}
	</select>
	
	<select id="chkLogIdPwd" parameterType="java.util.Map" resultType="membervo">
		SELECT *
			FROM MEMBER 
			WHERE MEMBER_LOGINID = #{member_loginId} AND MEMBER_PASSWORD = #{member_password}
	</select>
	

</mapper>
